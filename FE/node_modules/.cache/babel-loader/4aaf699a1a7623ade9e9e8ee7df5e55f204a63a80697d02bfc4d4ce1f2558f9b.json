{"ast":null,"code":"var _jsxFileName = \"/Users/hongdinh/Code/Learn_Code/source-web-truyen-reactJS-Spring/front-end/src/views/Active/Active.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport apiMain from '../../api/apiMain';\nimport Layout from '../../components/Layout';\nimport LoadingData from '../../components/LoadingData';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Active(props) {\n  _s();\n  const {\n    token\n  } = useParams();\n  const [loadingData, setLoadingData] = useState(true);\n  const [msg, setMsg] = useState(\"\");\n  const [count, setCount] = useState(0);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const active = async () => {\n      const params = {\n        key: token\n      };\n      apiMain.activeAccount(params).then(res => {\n        setLoadingData(false);\n        setMsg(\"Kích hoạt thành công\");\n        setCount(5);\n      }).catch(err => {\n        setMsg(\"Kích hoạt không thành công\");\n      });\n    };\n    active();\n  }, [token]);\n  useEffect(() => {\n    const countDown = async () => {\n      //hàm xử lý đếm ngược 5s sau khi kích hoạt xong\n\n      if (loadingData) return;\n      setTimeout(() => {\n        if (count > 0) {\n          setCount(pre => pre - 1);\n          console.log(count);\n        } else {\n          navigate(\"/\");\n        }\n      }, 1000);\n    };\n    countDown();\n  }, [count]);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: loadingData ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(LoadingData, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex mt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u0110ang k\\xEDch ho\\u1EA1t t\\xE0i kho\\u1EA3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 54\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex mt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: msg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 54\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"S\\u1EBD chuy\\u1EC3n \\u0111\\u1EBFn trang ch\\u1EE7 trong \", count, \" gi\\xE2y\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(Active, \"KhTYBJMk25pTy8jBctgL8qWt8VU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Active;\nexport default Active;\nvar _c;\n$RefreshReg$(_c, \"Active\");","map":{"version":3,"names":["useEffect","useState","useNavigate","useParams","apiMain","Layout","LoadingData","jsxDEV","_jsxDEV","Fragment","_Fragment","Active","props","_s","token","loadingData","setLoadingData","msg","setMsg","count","setCount","navigate","active","params","key","activeAccount","then","res","catch","err","countDown","setTimeout","pre","console","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/hongdinh/Code/Learn_Code/source-web-truyen-reactJS-Spring/front-end/src/views/Active/Active.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport apiMain from '../../api/apiMain'\r\nimport Layout from '../../components/Layout'\r\nimport LoadingData from '../../components/LoadingData'\r\n\r\nfunction Active(props) {\r\n    const { token } = useParams()\r\n    const [loadingData, setLoadingData] = useState(true)\r\n    const [msg, setMsg] = useState(\"\")\r\n    const [count, setCount] = useState(0)\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        const active = async () => {\r\n            const params = {\r\n                key: token\r\n            }\r\n            apiMain.activeAccount(params).then(res => {\r\n                setLoadingData(false)\r\n                setMsg(\"Kích hoạt thành công\")\r\n                setCount(5);\r\n            })\r\n                .catch(err => {\r\n                    setMsg(\"Kích hoạt không thành công\")\r\n                })\r\n        }\r\n        active();\r\n    }, [token])\r\n\r\n    useEffect(() => {\r\n        const countDown = async () => {//hàm xử lý đếm ngược 5s sau khi kích hoạt xong\r\n\r\n            if (loadingData)\r\n                return\r\n            setTimeout(() => {\r\n                if (count > 0) {\r\n                    setCount(pre => pre - 1)\r\n                    console.log(count)\r\n                }\r\n                else {\r\n                    navigate(\"/\")\r\n                }\r\n            }, 1000)\r\n        }\r\n        countDown();\r\n    }, [count])\r\n\r\n    return (\r\n        <Layout >\r\n            <div className=\"main-content\">\r\n                {loadingData ?\r\n                    <>\r\n                        <LoadingData />\r\n                        <div className='d-flex mt-2'><h4>Đang kích hoạt tài khoản</h4></div>\r\n                    </>\r\n                    :\r\n                    <>\r\n                        <div className='d-flex mt-2'><h4>{msg}</h4></div>\r\n                        <span>Sẽ chuyển đến trang chủ trong {count} giây</span>\r\n                    </>\r\n                }\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Active"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}